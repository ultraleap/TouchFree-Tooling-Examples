<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>System Cursor Example</title>
    <script name="TouchFree_Tooling" type="text/javascript" src="./TouchFree/TouchFree_Tooling.js"></script>
    <script type="text/javascript" src="./SystemCursorExample.js"></script>
    <link rel="stylesheet" href="./ProgressExample.css">
</head>

<body class="bodyBG">
    <div style="width: 100vw; height: 100vh;">
        <div class="container">
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--raspberry-sorbet);"></button>
            </div>
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--burnt-coral);"></button>
            </div>
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--marigold);"></button>
            </div>
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--illuminating);"></button>
            </div>
        </div>
        <div class="container">
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--mint);"></button>
            </div>
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--green-ash);"></button>
            </div>
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--cerulean);"></button>
            </div>
            <div class="buttonDiv"> 
                <button class="button" style="background-color:var(--amythist-orchid);"></button>
            </div>
        </div>
    </div>
    
    <script>
        var onHover = function (source)
        {
            source.classList.add('buttonHover');
            source.parentElement.classList.add('buttonDivHover');
        }
        
        var onDehover = function (source)
        {
            source.classList.remove('buttonHover');
            source.parentElement.classList.remove('buttonDivHover');
        }
        
        var changeColor = function (content) {
            document.body.style.backgroundColor = content;   
            
        }

        var onDown = function(element)
        {
            changeColor(element.style.backgroundColor);

            element.classList.remove('buttonHover');
            element.classList.add('buttonActive');
            element.parentElement.classList.remove('buttonDivHover');
            element.parentElement.classList.add('buttonDivActive');
        }

        var onUp = function(element)
        {
            element.classList.remove('buttonActive');
            element.parentElement.classList.remove('buttonDivActive')
        }
        
        var addDownListener = function(element)
        {
            element.addEventListener("pointerdown", () => onDown(element));
            element.addEventListener("pointerup", () => onUp(element));

        }
        
        var addHoverListener = function(element)
        {
            element.addEventListener("pointerenter", () => onHover(element));
            element.addEventListener("pointerleave", () => onDehover(element));
        }
        
        var addPointerListeners = function()
        {
            var buttons = document.getElementsByClassName('button');
            for(var i = 0; i < buttons.length; i++)
            {
                addDownListener(buttons[i]);
                addHoverListener(buttons[i]);
            }
        }
        
        addPointerListeners();


    </script>

</body>

</html>
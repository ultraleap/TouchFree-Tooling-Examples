<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Animated Circular Progress Button Example</title>
    <script name="TouchFree_Tooling" type="text/javascript" src="./TouchFree/TouchFree_Tooling.js"></script>
    <script type="text/javascript" src="./CircularProgressAnimation.js"></script>
    <link rel="stylesheet" href="./ProgressExample.css">
</head>

<body class="bodyBG">
    <div style="width: 100vw; height: 100vh;">
        <div class="container">
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--raspberry-sorbet);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--burnt-coral);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--marigold);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--illuminating);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
        </div>
        <div class="container">
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--mint);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--green-ash);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--cerulean);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
            <div class="buttonDiv">
                <button class="button" style="background-color:var(--amythist-orchid);"></button>
                <image src="./images/ButtonHighlight.png" class="highlight"></image>
            </div>
        </div>
    </div>

    <script>
        function onHover(source) {
            source.parentElement.querySelector('.highlight').id = 'hovered';
            source.classList.add('buttonHover');
            source.parentElement.classList.add('buttonDivHover');
        }

        function onDehover(source) {
            source.parentElement.querySelector('.highlight').id = 'dehovered';
            source.classList.remove('buttonHover');
            source.parentElement.classList.remove('buttonDivHover');
        }

        function changeColor(content) {
            document.body.style.backgroundColor = content;
        }

        function onDown(element) {
            changeColor(element.style.backgroundColor);

            element.classList.remove('buttonHover');
            element.classList.add('buttonActive');
            element.parentElement.classList.remove('buttonDivHover');
            element.parentElement.classList.add('buttonDivActive');
        }

        function onUp(element) {
            element.classList.remove('buttonActive');
            element.parentElement.classList.remove('buttonDivActive')
        }

        function addDownListener(element) {
            element.addEventListener("pointerdown", () => onDown(element));
            element.addEventListener("pointerup", () => onUp(element));

        }

        function addHoverListener(element) {
            element.addEventListener("pointerenter", () => onHover(element));
            element.addEventListener("pointerleave", () => onDehover(element));
        }

        const buttons = document.getElementsByClassName('button');
        for (let i = 0; i < buttons.length; i++) {
            addDownListener(buttons[i]);
            addHoverListener(buttons[i]);
        }
    </script>

</body>

</html>